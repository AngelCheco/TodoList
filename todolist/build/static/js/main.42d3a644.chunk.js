(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(t,e,n){t.exports=n(39)},28:function(t,e,n){},29:function(t,e,n){t.exports=n.p+"static/media/logo.5d5d9eef.svg"},30:function(t,e,n){},39:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),i=n(20),c=n.n(i),l=(n(28),n(6)),s=n(7),r=n(9),u=n(8),p=n(10),h=(n(29),n(30),n(1)),m=n(12),d=function(t){function e(){var t;return Object(l.a)(this,e),(t=Object(r.a)(this,Object(u.a)(e).call(this))).login=t.login.bind(Object(h.a)(Object(h.a)(t))),t.logout=t.login.bind(Object(h.a)(Object(h.a)(t))),t.signup=t.signup.bind(Object(h.a)(Object(h.a)(t))),t}return Object(p.a)(e,t),Object(s.a)(e,[{key:"login",value:function(){var t=this,e=document.getElementById("try_user_login").value;fetch("/login_action",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({username:e})}).then(function(e){console.log(e.status),t.props.history.push("/todolist")}).catch(function(t){return console.log(t)})}},{key:"signup",value:function(){var t=document.getElementById("try_user").value;fetch("/create_user_action",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({username:t})}).then(function(t){return t.text()}).then(function(t){"OK"!==t?alert(t):alert("You are now registered!")}).catch(function(t){return console.log(t)})}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(m.b,{to:"/github_serve",style:{all:"unset"}},a.a.createElement("div",{id:"gh_s"},"Github static serve")),a.a.createElement("div",{className:"login_sys"},a.a.createElement("p",null,"Sign up"),a.a.createElement("input",{placeholder:"username",id:"try_user"}),a.a.createElement("button",{onClick:this.signup},"Register")),a.a.createElement("div",{className:"login_sys"},a.a.createElement("p",null,"Log in"),a.a.createElement("input",{placeholder:"username",id:"try_user_login"}),a.a.createElement("button",{onClick:this.login},"login")))}}]),e}(o.Component),g=function(t){function e(){var t;return Object(l.a)(this,e),(t=Object(r.a)(this,Object(u.a)(e).call(this))).state={items:[]},t.completeItem=t.completeItem.bind(Object(h.a)(Object(h.a)(t))),t.deleteItem=t.deleteItem.bind(Object(h.a)(Object(h.a)(t))),t.getList=t.getList.bind(Object(h.a)(Object(h.a)(t))),t.newItem=t.newItem.bind(Object(h.a)(Object(h.a)(t))),t.logout=t.logout.bind(Object(h.a)(Object(h.a)(t))),t}return Object(p.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.getList()}},{key:"logout",value:function(){var t=this;fetch("/logout",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(function(e){console.log(e),t.setState({items:[]}),t.props.history.push("/")}).catch(function(t){return console.log(t)})}},{key:"getList",value:function(){var t=this;this.setState({items:[]}),document.cookie.length<11&&this.props.history.push("/"),fetch("/todolist",{method:"get",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(function(t){return t.json()}).then(function(e){return t.setState({items:e})}).catch(function(t){return console.log(t)})}},{key:"completeItem",value:function(t){var e=this;fetch("/complete_item",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({item_id:t})}).then(function(t){console.log(t.status),e.getList()}).catch(function(t){return console.log(t)})}},{key:"deleteItem",value:function(t){var e=this;fetch("/delete_item",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({item_id:t})}).then(function(t){console.log(t.status),e.getList()}).catch(function(t){return console.log(t)})}},{key:"newItem",value:function(){var t=this,e=document.getElementById("inp").value;fetch("/new_item",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({content:e})}).then(function(e){console.log(e.status),t.getList()}).catch(function(t){return console.log(t)})}},{key:"render",value:function(){var t=[];if(void 0!=this.state.items&&this.state.items.length>0){var e=this;this.state.items.forEach(function(n){var o=a.a.createElement("div",null);o=n.completed?a.a.createElement("div",{key:n.id,className:"todolistitem"},a.a.createElement("p",null,n.content),a.a.createElement("button",{onClick:function(){e.deleteItem(n.id)}},"delete")):a.a.createElement("div",{className:"todolistitem"},a.a.createElement("p",null,n.content),a.a.createElement("button",{onClick:function(){e.completeItem(n.id)}},"complete"),a.a.createElement("button",{onClick:function(){e.deleteItem(n.id)}},"delete")),t.push(o)})}return a.a.createElement("div",null,a.a.createElement("div",{className:"todolistview"},t,a.a.createElement("div",{className:"todolistitem"},a.a.createElement("input",{id:"inp"}),a.a.createElement("button",{onClick:this.newItem},"add")),a.a.createElement("button",{id:"logout",onClick:this.logout},"logout")))}}]),e}(o.Component),b=function(t){function e(){var t;return Object(l.a)(this,e),(t=Object(r.a)(this,Object(u.a)(e).call(this))).state={github_serve_html:""},t.github_serve=t.github_serve.bind(Object(h.a)(Object(h.a)(t))),t}return Object(p.a)(e,t),Object(s.a)(e,[{key:"github_serve",value:function(){var t=this;fetch("/github",{method:"get",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(function(t){return t.text()}).then(function(e){t.setState({github_serve_html:e})}).catch(function(t){return console.log(t)})}},{key:"componentDidMount",value:function(){this.github_serve()}},{key:"render",value:function(){return a.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.github_serve_html}})}}]),e}(o.Component),f=n(11),v=function(t){function e(){return Object(l.a)(this,e),Object(r.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(m.a,null,a.a.createElement(f.a,{path:"/github_serve",exact:!0,component:b}),a.a.createElement(f.a,{path:"/",exact:!0,component:d}),a.a.createElement(f.a,{path:"/todolist",exact:!0,strict:!0,component:g})))}}]),e}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.42d3a644.chunk.js.map